# Настройка

В этом разделе описаны параметры конфигурации HomeoRemedyTest.

## Файл .env

Основной файл конфигурации - `.env` в корне проекта.

### Обязательные параметры

```env
# Секретный ключ для Flask
# Сгенерировать можно командой: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=ваш_секретный_ключ_из_32_символов

# Режим хранения данных
# Возможные значения: local, yandex, hybrid
STORAGE_MODE=hybrid

# Настройки хранилища
# Токен Яндекс.Диска (только для режимов yandex и hybrid)
# Получить можно на: https://yandex.ru/dev/disk/poligon/
YANDEX_DISK_TOKEN=ваш_oauth_токен

# Путь к файлу на Яндекс.Диске
# Формат: папка/подпапка/имя_файла.json
YANDEX_DISK_PATH=HomeoRemedyTest/app/data/test_cards.json

# Путь к локальному файлу данных
LOCAL_DATA_PATH=app/data/test_cards.json

# Настройки приложения
# Количество карточек на странице
CARDS_PER_PAGE=20

# Задержка поиска в миллисекундах
SEARCH_DELAY=500
```

___
## Режимы хранения

#### 1. Локальный режим (STORAGE_MODE=local)

**Преимущества:**
  - Быстрая работа без интернета
  - Простая настройка
  - Полный контроль над данными

**Недостатки:**
  - Нет синхронизации между устройствами
  - Нет резервного копирования

#### 2. Режим Яндекс.Диск (STORAGE_MODE=yandex)

**Преимущества:**
  - Полная синхронизация
  - Доступ с любого устройства
  - Автоматическое резервное копирование

**Недостатки:**
  - Требуется интернет
  - Зависимость от Яндекс.Диска

#### 3. Гибридный режим (STORAGE_MODE=hybrid) - Рекомендуется

**Преимущества:**
  - Локальный кэш для быстрой работы
  - Синхронизация при наличии интернета
  - Отказоустойчивость

**Недостатки:**
  - Более сложная настройка


___
## Получение токена Яндекс.Диска

#### Шаг 1: Перейдите на Яндекс.Диск Полигон

Откройте https://yandex.ru/dev/disk/poligon/

#### Шаг 2: Нажмите "Получить OAuth-токен"

https://yastatic.net/s3/doc-binary/src/dev/disk/rest-api/oauth-token.png

#### Шаг 3: Авторизуйтесь

Войдите в свой аккаунт Яндекс

#### Шаг 4: Скопируйте токен

Добавьте токен в .env файл:

```env
YANDEX_DISK_TOKEN=AgAAAAAXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
```

___
## Проверка конфигурации

Для проверки правильности настроек выполните:

```bash
# Выведет текущую конфигурацию
python -c "from config import Config; Config.print_config()"
```

Пример вывода:

```text
============================================================
КОНФИГУРАЦИЯ ПРИЛОЖЕНИЯ
============================================================
SECRET_KEY: установлен
STORAGE_MODE: hybrid
YANDEX_DISK_TOKEN: установлен
YANDEX_DISK_PATH: HomeoRemedyTest/app/data/test_cards.json
LOCAL_DATA_PATH: app/data/test_cards.json
JSON_FILE: /путь/к/файлу/test_cards.json
CARDS_PER_PAGE: 20
SEARCH_DELAY: 500
============================================================
```

___
## Следующий шаг

После настройки перейдите к первому запуску.
___
